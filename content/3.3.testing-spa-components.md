# How to Test Single Page App Components

In this lesson we'll focus on some of the specifics of a Single Page App component and it's testing like lifecycle hooks and event handlers.

We'll be looking at class-based SPA components. [Angular](https://angular.io/guide/component-overview#creating-a-component-manually), [React](https://reactjs.org/docs/state-and-lifecycle.html#adding-local-state-to-a-class), and [Vue](https://class-component.vuejs.org/) support such class based components.

SPA components are generally exposing lifecycle hooks (or methods) that can be used to do certain actions at certain times. For example, wait till the component is initialized (or mounted/displayed) before making a call to the API to fetch some data. And at the time of its destruction(or unmount) stop any further processing.

Examples of component lifecycle hooks from some SPA frameworks:

- [Angular docs](https://angular.io/guide/lifecycle-hooks#initializing-a-component-or-directive)
- [React docs](https://reactjs.org/docs/react-component.html#componentdidmount)
- [Vue docs](https://vuejs.org/v2/api/#mounted)

## The component - ArticleComponent

For this lesson we'll use a SPA Component that displays an article like in a blog. It loads the article at the time of its initialization. At the time of its destruction it marks itself destroyed and will not show the article.

In the code playground below there's an implementation of the ArticleComponent and it's tests. Let's run them and see their breakdown below.

// code here

## Breakdown - ArticleComponent

Looking at the `src/article.component.mjs`:

- ```js
  export class ArticleComponent {
    articleId; // or props.articleId

    article;
    loading;
    destroyed;
    //...
  }
  ```

  We start by declaring the class of the component and declaring some properties in it:

  - The `articleId` is the id of the article the component is to display. This is expected to be an input (or prop) i.e. the component relies on it being there to be able to do its job. Examples: [Angular Input](https://angular.io/guide/inputs-outputs#sending-data-to-a-child-component), [React prop](https://reactjs.org/docs/components-and-props.html#rendering-a-component), [Vue prop](https://v3.vuejs.org/guide/component-props.html#passing-static-or-dynamic-props).
  - The `article` will hold a reference to the article object that is going to be fetched from the `ArticleAPI`.
  - The `loading` is the property that lets us show/hide a loading spinner to the user to let them know something is afoot.
  - The `destroyed` is the property that becomes true when the component is being destroyed. It will be used to stop any further processing at that point.

// TK finish

## Breakdown - tests

## Exercise

## Hints
